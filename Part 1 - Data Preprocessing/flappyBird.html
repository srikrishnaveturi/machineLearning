<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Mithil's Flappy Bird</title>
<style>
* { padding:0; margin: 0; }
canvas { background: #eee; display: block; margin: 0 auto; }
}
</style>
</head>
<body>

<canvas id="myCanvas" width="480" height="320"></canvas>
<p id="birdx">Hello World</p>
<p id="birdy">Hello World</p>
<p id="pipex">Hello World</p>
<p id="pipey">Hello World</p>
<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
var pipeHeight = 250;
var pipeGap = 50;
var pipeWidth = 60;
var pipeX1 = canvas.width-pipeWidth;
var pipeX2 = pipeX1;
var pipeY1 = Math.random() * (+0 - +-230) + +-230; // range(-230, 0)
var pipeY2 = pipeY1 + pipeHeight + pipeGap;
var pipedx = 1;
var birdSize = 30;
var birdX = 30; //constant
var birdY = 40; // this is a range (0, canvas.height - birdSize)
var dy = 0;
var rightPressed = false;
var leftPressed = false;
document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);
function keyDownHandler(e) {
    if(e.key == "Right" || e.key == "ArrowRight") {
        rightPressed = true;
    }
    else if(e.key == "Left" || e.key == "ArrowLeft") {
        leftPressed = true;
    }
}
function keyUpHandler(e) {
    if(e.key == "Right" || e.key == "ArrowRight") {
        rightPressed = false;
    }
    else if(e.key == "Left" || e.key == "ArrowLeft") {
        leftPressed = false;
    }
}
function drawBird() {
if(birdX+birdSize > pipeX1-pipedx+pipeWidth && birdX < pipeX1-pipedx+pipeWidth)
if((birdY+dy < (pipeY1+pipeHeight) ) || (birdY+birdSize+dy > pipeY2) )
{
alert("DEAD!");
location.reload();
clearInterval(interval);
}
if(rightPressed) dy+=1;
if(leftPressed) dy-=1;
    ctx.beginPath();
    ctx.rect(birdX, birdY + dy, birdSize, birdSize);
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();
}
function drawPipe() {
if(pipeX1 + 2*pipeWidth - pipedx <= 0) {
	pipedx = 0;
	pipeY1 = Math.random() * (+0 - +-230) + +-230;
	pipeY2 = pipeY1 + pipeHeight + pipeGap;
	}
    ctx.beginPath();
    ctx.rect(pipeX1 - pipedx + pipeWidth, pipeY1, pipeWidth, pipeHeight);
	ctx.rect(pipeX2 - pipedx + pipeWidth, pipeY2, pipeWidth, pipeHeight);
    ctx.fillStyle = "green";
    ctx.fill();
    ctx.closePath();
	pipedx++;
}
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawBird();
	drawPipe();
    }
var interval = setInterval(draw, 10);
</script>
</body>
</html>
